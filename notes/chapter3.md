## 3-1

1. 缓冲区是 WebGL 系统中的一块存储区，可以向缓冲区对象中保存想要绘制的所有顶点的数据
2. 使用缓冲区对象向顶点着色器传入多个顶点的数据，需要遵循以下五个步骤：
   - 创建缓冲区对象——`gl.createBuffer()`
   - 绑定缓冲区对象——`gl.bindBuffer()`
   - 将数据写入缓冲区对象——`gl.bufferData()`
   - 将缓冲区对象分配给一个 attribute 变量——`gl.vertexAttribPointer()`
   - 开启 attribute 变量——`gl.enableVertexAttribArray()`
3. 处理其他对象，如纹理对象和帧缓冲区对象时的步骤也比较类似
4. 不能直接向缓冲区写入数据，而只能向目标写入数据，所以要向缓冲区写数据，必须先绑定
5. 因为 JavaScript 中通用的数组 Array 是一种通用类型，并没有对`大量元素都是同一种类型`这种情况进行优化。
   - 为了解决这个问题，WebGL 引入了类型化数组，如`Float32Array`通常用来存储顶点的坐标或颜色数据。
   - WebGL 中的很多操作都要用到类型化数组
   - 与普通的 Array 数组相比，类型化数组不支持`push()`和`pop()`方法
6. 可以使用`gl.vertexAttribPointer()`方法将整个缓冲区对象分配给 attribute 变量

## 3-2

1. 在`gl.drawArrays()`方法的第一个参数`mode`上指定不同的值，可以按照不同的规则绘制图形。
   - `gl.POINTS`:点，一系列点
   - `gl.LINES`:线段，一系列单独的线段
   - `gl.LINE_STRIP`:线条，一系列连接的线段
   - `gl.LINK_LOOP`:回路，在线条的基础上增加了一条从最后一个点到第一个点的线段
   - `gl.TRIANGLES`:三角形，一些列单独的三角形
   - `gl.TRIANGLE_STRIP`:三角带，一系列条带状的三角形（保持统一的绘制顺序）
   - `gl.TRIANGLE_FAN`:三角扇，相比三角带，接下来的一个点和前一个三角形的最后一条边组成接下来的一个三角形
2. WebGL 只能绘制三种图形：点、线段和三角形。从球体到立方体，再到游戏中的三维角色，都可以由小的三角形组成。

## 3-4

1. 平移、旋转和缩放三角形，然后在屏幕上绘制出来的操作被称为`变换`或`仿射变换`
2. `GLSL ES`中的赋值操作只能发生在相同类型的变量之间

## 3-5

1. 右手法则旋转是 WebGL 程序的默认设定。

## 3-6

1. 对于简单的变换，可以使用数学表达式来实现。但是当情形逐渐变得复杂时，利用表达式运算实际上相当繁琐。
2. 可以通过`变换矩阵（Transformation matrix）`来完成复杂的变换工作。
3. 矩阵的乘法不遵循交换律，即`A X B`和`B X A`并不相等
4. 常用的矩阵有：
   - 旋转矩阵：
     $$
       \begin{bmatrix}
       cosB & -sinB & 0 & 0 \\
       sinB & cosB & 0 & 0 \\
       0 & 0 & 1 & 0 \\
       0 & 0 & 0 & 1
       \end{bmatrix}
     $$
   - 平移矩阵：
     $$
        \begin{bmatrix}
        1 & 0 & 0 & Tx\\
        0 & 1 & 0 & Ty\\
        0 & 0 & 1 & Tz\\
        0 & 0 & 0 & 1
        \end{bmatrix}
     $$
   - 缩放矩阵：
     $$
        \begin{bmatrix}
        Sx & 0 & 0 & 0\\
        0 & Sy & 0 & 0\\
        0 & 0 & Sz & 0\\
        0 & 0 & 0 & 1
        \end{bmatrix}
     $$
5. 矩阵是二维的，其元素按照行和列进行排列，而数组是一维的，其元素只是排成一行。
6. 可以按照两种方式在数组中存储矩阵元素：按行主序和按列主序。
   - WebGL 和 OpenGL 一样，矩阵元素是按列主序存储在数组中的。
7. `gl.uniformMatrix4fv()`函数的第 2 个参数用于表示是否转置矩阵。
   - 转置操作将交换矩阵的行和列。由于 WebGL 实现没有提供矩阵转置的方法，所以该参数必须为`false`
